{% extends "base.html" %} {% block content %}
<div class="container mt-4">
  <div class="row">
    <div class="col-md-12">
      <h2>Your Tasks</h2>
      <form method="POST">
        {{ form.hidden_tag() }}
        <div class="form-group">
          {{ form.title.label(class="form-label") }} {{
          form.title(class="form-control") }}
        </div>
        <div class="form-group">
          {{ form.description.label(class="form-label") }} {{
          form.description(class="form-control") }}
        </div>
        <div class="form-group">
          {{ form.priority.label(class="form-label") }} {{
          form.priority(class="form-control") }}
        </div>
        <button type="submit" class="btn btn-primary">Create Task</button>
      </form>
    </div>
  </div>
  <hr />
  <div class="row">
    <div class="col-md-12">
      {% if tasks %}
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Title</th>
            <th>Description</th>
            <th>Priority</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for task in tasks %}
          <tr>
            <td>{{ task.title }}</td>
            <td>{{ task.description }}</td>
            <td>{{ task.priority }}</td>
            <td>
              <a
                href="{{ url_for('task.update_task', task_id=task.id) }}"
                class="btn btn-warning btn-sm"
                >Edit</a
              >
              <a
                href="{{ url_for('task.delete_task', task_id=task.id) }}"
                class="btn btn-danger btn-sm"
                >Delete</a
              >
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% else %}
      <p>No tasks available.</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
