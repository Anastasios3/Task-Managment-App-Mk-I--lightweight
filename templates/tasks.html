{% extends "base.html" %} {% block content %}
<div class="container-fluid">
  <h2>Your Tasks</h2>
  <ul class="list-group">
    {% for task in tasks %}
    <li
      class="list-group-item d-flex justify-content-between align-items-center {% if task.completed %}completed-task{% endif %}"
    >
      <div>
        <strong>{{ task.title }}</strong>
        <p>{{ task.description }}</p>
        <span class="priority-{{ task.priority|lower }}"
          >{{ task.priority }}</span
        >
        {% if task.completed %}
        <span class="badge badge-success">Completed</span>
        {% endif %}
      </div>
      <div class="d-flex">
        {% if not task.completed %}
        <form
          action="{{ url_for('task.complete_task', task_id=task.id) }}"
          method="POST"
          class="mr-2"
        >
          <button type="submit" class="btn btn-success">Complete</button>
        </form>
        {% endif %}
        <a
          href="{{ url_for('task.update_task', task_id=task.id) }}"
          class="btn btn-warning"
          >Edit</a
        >
        <a
          href="{{ url_for('task.delete_task', task_id=task.id) }}"
          class="btn btn-danger ml-2"
          >Delete</a
        >
      </div>
    </li>
    {% else %}
    <li class="list-group-item">
      <div class="alert alert-info" role="alert">No tasks available.</div>
    </li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
